=======================================
Wagtailmenus 2.10 (alpha) release notes
=======================================

.. NOTE ::
    
    Wagtailmenus 2.10 is in the alpha stage of development. Any changes
    detailed below are subject to change before the final 2.10 release.


.. contents::
    :local:
    :depth: 1


Minor changes & bug fixes 
=========================

- Optimised ``MenuWithMenuItems.get_top_level_items()`` and ``AbstractFlatMenu.get_for_site()`` to use fewer database queries.
- Configured ``sphinxcontrib.spelling`` and used to correct spelling errors in docs.
- Updated testing and documentation dependencies.


Deprecations
============

The ``WAGTAILMENUS_CHILDREN_MENU_CLASS_PATH`` setting is deprecated
-------------------------------------------------------------------

If using this setting to override the menu class used for rendering children menus, like so:

.. code-block:: python

    # settings/base.py

    WAGTAILMENUS_CHILDREN_MENU_CLASS_PATH = 'project.app.module.Class'

You should remove "_PATH" from the end of setting name, like so:

.. code-block:: python

    WAGTAILMENUS_CHILDREN_MENU_CLASS = 'project.app.module.Class'


The ``WAGTAILMENUS_SECTION_MENU_CLASS_PATH`` setting is deprecated
------------------------------------------------------------------

If using this setting to override the menu class used for rendering children menus, like so:

.. code-block:: python

    # settings/base.py

    WAGTAILMENUS_SECTION_MENU_CLASS_PATH = 'project.app.module.Class'

You should remove "_PATH" from the end of setting name, like so:

.. code-block:: python

    WAGTAILMENUS_SECTION_MENU_CLASS = 'project.app.module.Class'


Upgrade considerations
======================

``FLAT_MENU_MODEL_CLASS`` has been removed from app_settings
------------------------------------------------------------

This is an internal API change, and so shouldn't affect you, but if you're referencing ``FLAT_MENU_MODEL_CLASS`` directly on the ``wagtailmenus.app_settings`` module, your code will no longer work. You should use ``wagtailmenus.get_flat_menu_model()`` instead.


``MAIN_MENU_MODEL_CLASS`` has been removed from app_settings
------------------------------------------------------------

This is an internal API change, and so shouldn't affect you, but if you're referencing ``MAIN_MENU_MODEL_CLASS`` directly on the ``wagtailmenus.app_settings`` module, your code will no longer work. You should use ``wagtailmenus.get_main_menu_model()`` instead.


Some other app settings values have moved ``wagtailmenus.constants``
--------------------------------------------------------------------

The following values have been moved from ``wagtailmenus.app_settings`` to a new ``wagtailmenus.constants`` module:

- ``USE_SPECIFIC_OFF``
- ``USE_SPECIFIC_AUTO``
- ``USE_SPECIFIC_TOP_LEVEL``
- ``USE_SPECIFIC_ALWAYS``
- ``USE_SPECIFIC_CHOICES``
- ``MAX_LEVELS_CHOICES``
